# Static Components Rule

If you encounter the static components eslint rule provided by React Compiler 1.0, and don't understand the docs, please look at this before and after of the fix. State can reset in the child if you update the parent component.

## Before 

```jsx live noInline
function Parent() {
  const [parentCount, updateParentCount] = useState(0)
  const ChildComponent = () => { // New component every render!
    const [count, setCount] = useState(0);
    return <button onClick={() => setCount(count + 1)}>{count} child</button>;
  };

  return (<><ChildComponent />  <button onClick={() => updateParentCount(parentCount + 1)}>{parentCount} parent</button></>) // State resets every render
}

render(<Parent />)
```

## After 

```jsx live noInline
const ChildComponent = () => { // No new component every render!
	const [count, setCount] = useState(0);
	return <button onClick={() => setCount(count + 1)}>{count} child</button>;
};
  
function Parent() {
  const [parentCount, updateParentCount] = useState(0)

  return (<><ChildComponent />  <button onClick={() => updateParentCount(parentCount + 1)}>{parentCount} parent</button></>) // State doesn't reset each time
}

render(<Parent />)
```

## More links 

- React docs https://react.dev/reference/eslint-plugin-react-hooks/lints/static-components
